<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<html class="no-js" lang="zxx">

<head>
	<meta charset="utf-8" />
	<meta http-equiv="x-ua-compatible" content="ie=edge" />
	<title>Messages - ClassiGrids Classified Ads and Listing Website Template</title>
	<meta name="description" content="" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<link rel="shortcut icon" type="image/x-icon" href="/assets/images/logo/favicon.png" />
	<!-- Place favicon.ico in the root directory -->

	<!-- Web Font -->
	<link
		href="https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
		rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel="stylesheet">

	<!-- ========================= CSS here ========================= -->
	<link rel="stylesheet" href="/assets/css/bootstrap.min.css" />
	<link rel="stylesheet" href="/assets/css/LineIcons.2.0.css" />
	<link rel="stylesheet" href="/assets/css/animate.css" />
	<link rel="stylesheet" href="/assets/css/tiny-slider.css" />
	<link rel="stylesheet" href="/assets/css/glightbox.min.css" />
	<link rel="stylesheet" href="/assets/css/main.css" />
	<!-- Meta -->

	모달
	<style>
		#my_modal {
			display: none;
			width: 300px;
			padding: 20px 60px;
			background-color: #fefefe;
			border: 1px solid #888;
			border-radius: 3px;
		}

		#my_modal .modal_close_btn {
			position: absolute;
			top: 10px;
			right: 10px;
		}

		.sns {
			float: left;

			display: inline-block;
		}
	</style>

</head>

<body>
	<!--[if lte IE 9]>
      <p class="browserupgrade">
        You are using an <strong>outdated</strong> browser. Please
        <a href="https://browsehappy.com/">upgrade your browser</a> to improve
        your experience and security.
      </p>
    <![endif]-->

	<!-- Preloader -->
	<div class="preloader">
		<div class="preloader-inner">
			<div class="preloader-icon">
				<span></span>
				<span></span>
			</div>
		</div>
	</div>
	<!-- /End Preloader -->

	<!-- Start Header Area -->
	<header class="header navbar-area">
		<div class="container">
			<div class="row align-items-center">
				<div class="col-lg-12">
					<div class="nav-inner">
						<nav class="navbar navbar-expand-lg">
							<a class="navbar-brand" th:href="@{/index}">
								<img src="/assets/images/logo/header/nplitlogo.svg" alt="Logo">
							</a>
							<button class="navbar-toggler mobile-menu-btn" type="button" data-bs-toggle="collapse"
								data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
								aria-expanded="false" aria-label="Toggle navigation">
								<span class="toggler-icon"> </span>
								<span class="toggler-icon"> </span>
								<span class="toggler-icon"> </span>
							</button>
							<div class="collapse navbar-collapse sub-menu-bar" id="navbarSupportedContent">
								<ul id="nav" class="navbar-nav ms-auto">
									<li class="nav-item">
										<a class="dd-menu collapsed" th:href="@{/index}"
											aria-label="Toggle navigation">Home</a>

									</li>
									<li class="nav-item">
										<a th:href="@{/registerlist}" aria-label="Toggle navigation">카테고리</a>
										<ul class="sub-menu mega-menu collapse" id="submenu-1-4">
											<!-- <li class="mega-menu-title">Dashboard</li> -->
											<li class="nav-item"><a th:href="@{/registerlist?category=패션/잡화}">패션/잡화</a>
											</li>
											<li class="nav-item"><a
													th:href="@{/registerlist?category=가전/디지털}">가전/디지털</a></li>
											<li class="nav-item"><a th:href="@{/registerlist?category=라이프}">라이프</a>
											<li class="nav-item"><a th:href="@{/registerlist?category=배달음식}">배달음식</a>
											</li>
											<li class="nav-item"><a th:href="@{/registerlist?category=홈쉐어링}">홈쉐어링</a>
											</li>
									</li>
									<li class="nav-item"><a th:href="@{/registerlist?category=식품}">식품</a></li>
									<li class="nav-item"><a th:href="@{/registerlist?category=구독서비스}">구독서비스</a></li>
									<li class="nav-item"><a th:href="@{/registerlist?category=기타}">기타</a></li>
								</ul>
								</li>

								<!--예진 로그인 안했을 경우 내 근처 못들어가게-->
								<li class="nav-item">
									<a class="dd-menu collapsed" th:if="${#strings.isEmpty(session.login)}"
										onclick="alert('로그인이 필요한 서비스 입니다.')" th:href="@{/login}"
										aria-label="Toggle navigation">내 근처</a>
									<a class="dd-menu collapsed" th:if="${not #strings.isEmpty(session.login)}"
										th:href="@{/near_me}" aria-label="Toggle navigation">내 근처</a>
								</li>

								<!--예진 로그인 안했을경우 마이페이지 못들어가게-->
								<li class="nav-item" th:if="${#strings.isEmpty(session.login)}" th:href="@{/login}"
									onclick="alert('로그인이 필요한 서비스 입니다.')">
									<a class="dd-menu collapsed" th:href="@{/login}" aria-label="Toggle navigation">마이
										페이지</a>
									<ul class="sub-menu collapse" id="submenu-1-5">
										<li class="nav-item"><a th:href="@{/login}">내 프로필 보기</a>
										</li>
										<li class="nav-item"><a th:href="@{/login}">개인정보 수정</a></li>
										<li class="nav-item"><a th:href="@{/login}">내가 등록한 쉐어링</a></li>
										<li class="nav-item"><a th:href="@{/login}">내가 참여중인 쉐어링</a></li>
										<li class="nav-item"><a th:href="@{/login}">내가 찜한 쉐어링</a></li>
										<li class="nav-item"><a th:href="@{/myquestion_list}">1:1 문의 내역</a></li>
									</ul>
								</li>

								<li class="nav-item" th:if="${not #strings.isEmpty(session.login)}">
									<!--예진 로그인 했을경우-->
									<a class="dd-menu collapsed" th:href="@{/profile_show}"
										aria-label="Toggle navigation">마이 페이지</a>
									<ul class="sub-menu collapse" id="submenu-1-5">
										<li class="nav-item"><a th:href="@{/profile_show}">내 프로필 보기</a>
										</li>
										<li class="nav-item"><a th:href="@{/profile_update}">개인정보 수정</a></li>
										<li class="nav-item"><a th:href="@{/sharing_registered}">내가 등록한 쉐어링</a></li>
										<li class="nav-item"><a th:href="@{/sharing_participate}">내가 참여중인 쉐어링</a></li>
										<li class="nav-item"><a th:href="@{/sharing_like}">내가 찜한 쉐어링</a></li>
										<li class="nav-item"><a th:href="@{/selectMyQuestion}">1:1 문의 내역</a></li>
									</ul>
								</li>
								<!--예진 로그인 안했을 경우 내채팅 못들어가게-->
								<li class="nav-item">
									<a class="active dd-menu collapsed" th:if="${#strings.isEmpty(session.login)}"
										onclick="alert('로그인이 필요한 서비스 입니다.')" th:href="@{/selectMyChatting}"
										aria-label="Toggle navigation">내 채팅</a>
									<a class="active dd-menu collapsed" th:if="${not #strings.isEmpty(session.login)}"
										th:href="@{/selectMyChatting}" aria-label="Toggle navigation">내 채팅</a>
								</li>

								<li style="position: relative; top: 2.2rem;">
									<span class="notranslate">
										<div id="google_translate_element" style="display:none;"></div>
										<!-- "새 번역 링크 UI" -->

										<ul class="translation-links" style="list-style:none;">
											<li style="float:left; margin-right:0.5rem;"><i class="fas fa-circle"
													style="color:#cfb0cf; font-size:0.5rem;"></i></li>
											<li style="float:left"><a href="javascript:void(0)" class="english"
													data-lang="en">En</a></li>
											<li style="float:left">&nbsp &#124; &nbsp</li>
											<li style="float:left"><a href="javascript:void(0)" class="korean"
													data-lang="ko">Ko</a></li>
											<li style="float:left; margin-left:0.5rem;"><i class="fas fa-circle"
													style="color:#cfb0cf; font-size:0.5rem;"></i></li>
										</ul>

										<script
											src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
										<script type="text/javascript">
											/* 구글 번역 초기화 */
											function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: 'ko', autoDisplay: true}, 'google_translate_element');}
										</script>
										<script type="text/javascript">
											/* 새 UI 선택 클릭 이벤트가 발생하면
											   감춤 처리한 구글 번역 콤보리스트에
											   선택한 언어를 적용해 변경 이벤트를 발생시키는 코드  */
											document.querySelector('.translation-links').addEventListener('click', function (event) {
												let el = event.target;
												if (el != null) {
													while (el.nodeName == 'FONT') {el = el.parentElement;}//data-lang 속성이 있는 태그 찾기
													const tolang = el.dataset.lang; // 변경할 언어 코드 얻기
													const gtcombo = document.querySelector('.goog-te-combo');
													if (gtcombo == null) {
														alert("Error: Could not find Google translate Combolist.");
														return false;
													}
													gtcombo.value = tolang; // 변경할 언어 적용
													gtcombo.dispatchEvent(new Event('change')); // 변경 이벤트 트리거
												}
												return false;
											});
										</script>
									</span>
								</li>

								</ul>
							</div> <!-- navbar collapse -->

							<div class="login-button">
								<ul>
									<li>
										<a th:if="${not #strings.isEmpty(session.login)}">
											<a th:href="@{/profile_show}" class="see-all"><span
													th:text="${session.login.name}"> </span>님 환영합니다.</a>
										</a>
										<a th:if="${#strings.isEmpty(session.login)}" th:href="@{/login}">
											<i class="lni lni-enter"> </i>로그인
										</a>
									</li>

									<li>
										<a th:if="${not #strings.isEmpty(session.login)}" th:href="@{/logout}">
											<i class="lni lni-enter"> </i> 로그아웃
										</a>
										<a th:if="${#strings.isEmpty(session.login)}" th:href="@{/join}">
											<i class="lni lni-user"> </i> 가입하기
										</a>
									</li>
								</ul>
							</div>

							<div class="button header-button">
								<!--로그인 안되어있을경우 쉐어링 등록 불가-->
								<a th:if="${#strings.isEmpty(session.login)}" onclick="alert('로그인이 필요한 서비스 입니다.')"
									th:href="@{/login}" class="btn">쉐어링 등록하기</a>
								<a th:if="${not #strings.isEmpty(session.login)}" th:href="@{/register_view}"
									class="btn">쉐어링 등록하기</a>
							</div>
						</nav> <!-- navbar -->
					</div>
				</div>
			</div> <!-- row -->
		</div> <!-- container -->
	</header>
	<!-- End Header Area -->

	<!-- Start Breadcrumbs -->
	<div class="breadcrumbs">
		<div class="container">
			<div class="row align-items-center">
				<div class="col-lg-6 col-md-6 col-12">
					<div class="breadcrumbs-content">
						<h1 class="page-title">채팅 목록</h1>
					</div>
				</div>
				<div class="col-lg-6 col-md-6 col-12">
					<ul class="breadcrumb-nav">
						<li><a th:href="@{/index}">Home</a></li>
						<li>채팅</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
	<!-- End Breadcrumbs -->

	<!-- Start Dashboard Section -->
	<section class="dashboard section">
		<div class="container">
			<div class="row">
				<div class="col-12">
					<div class="main-content">
						<div class="dashboard-block mt-0 pb-0">
							<h3 class="block-title mb-0">나의 쉐어링</h3>
							<!-- Start Messages Body -->
							<div class="messages-body">
								<!--채팅방 리스트-->
								<div class="user-list">
									<ul th:each="room : ${selectMyChatting}">
										<li>
											<a th:href="@{/selectMessage(roomId=${room.roomId})}">
												<div class="image" style="height: 60px; width: 60px; ">
													<img class="unseen-message"
														src="/assets/images/logo/logo.jpg"
														style="width:3rem; height:3rem;">
												</div>
												<div class="chat-list-text">
													<div>
														<span name="title" class="title" th:text="${room.title}" style="font-size: 20px;"></span>
													</div>
													<div>
														<span></span>
														<p></p >
													</div>
												</div>
											</a>
										</li>
									</ul>
								</div>
							</div>
						</div>
						<!-- End Messages Body -->
					</div>
				</div>
			</div>
		</div>
		</div>
	</section>
	<!-- End Dashboard Section -->


	<!-- footer Area-->
	<footer class="footer">
		<!-- Start Footer Top -->
		<div class="footer-top">
			<div class="container">
				<div class="row">
					<div class="col-md-4">
						<!-- Single Widget -->
						<div class="single-footer mobile-app">
							<a><img src="/assets/images/footer/footer_nplitlogo.svg" alt="Logo" ;
									style="width:300px; height:300px"></a>
						</div>
						<!-- End Single Widget -->
					</div>
					<div class="col-md-4" style="display:inline;">
						<div class="single-footer f-contact">
							<h3>Contact</h3>
							<ul>
								<li>서울 강남구 강남대로94길 20, <br> 삼오빌딩(5층 ~ 9층)</li>
								<li>문의 : 02-3486-9600 | 팩스 : 02.6007.1298 <br> 사업자등록번호 : 214-85-24928</li>
								<li>(주)엔플릿 강남본원 대표이사 : 허원준</li>
							</ul>
						</div>
					</div>



					<div class="col-md-4">
						<!-- Single Widget -->
						<div class="footer-bottom">
							<div class="container">
								<div class="inner">
									<!-- <div class="row"> -->
									<!-- <div class="col-6"> -->
									<div class="content">
										<div class="content-top">
											<p>통신판매업 신고번호 : 제 서초-00098호 <br> 개인정보보호관리책임자 : 박진형</p>
										</div>
										<p>이용약관 | 개인정보취급방침 | 위치기반서비스 이용약관</p>
										<ul class="footer-social">
											<li><a href="javascript:void(0)"><i class="lni lni-facebook-filled"></i></a>
											</li>
											<li><a href="javascript:void(0)"><i
														class="lni lni-twitter-original"></i></a>
											</li>
											<li><a href="javascript:void(0)"><i class="lni lni-youtube"></i></a>
											</li>
											<li><a href="javascript:void(0)"><i
														class="lni lni-linkedin-original"></i></a>
											</li>
										</ul>
										<!-- <i class="fas fa-link"></i> -->

									</div>
									<!-- </div> -->
									<!-- </div> -->
								</div>
							</div>

							<!-- End Single Widget -->
						</div>
					</div>
				</div>
			</div>
		</div>

	</footer>
	<!--end footer Area-->

	<!-- ========================= scroll-top ========================= -->
	<a href="#" class="scroll-top btn-hover">
		<i class="lni lni-chevron-up"></i>
	</a>

	<!-- ========================= JS here ========================= -->
	<script src="/assets/js/bootstrap.min.js"></script>
	<script src="/assets/js/wow.min.js"></script>
	<script src="/assets/js/tiny-slider.js"></script>
	<script src="/assets/js/glightbox.min.js"></script>
	<script src="/assets/js/main.js"></script>
	<script src="/assets/js/jquery-3.6.0.min.js"></script>

	<script>

		//공유링크 
		$("#fileupload").on('click', function (e) {
			e.preventDefault();
			$("#fileup").trigger('click');
		});
		$("#sharelink").on('click', function (e) {
			e.preventDefault();
			$("#popup_open_btn").trigger('click');

		});
		//         function sharelink() {
		//      window.open("shareLink.html","공유링크 ","width=486, height=286 ");

		// }

		function sharelink(sns) {
			var thisUrl = document.URL;
			var snsTitle = "    ";
			switch (sns) {
				case 'facebook':
					var url = "http://www.facebook.com/sharer/sharer.php?u=" + encodeURIComponent(thisUrl);
					window.open(url, "", "width=486, height=286");
					break;
				case 'twitter':
					var url = "http://twitter.com/share?url=" + encodeURIComponent(thisUrl) + "&text=" + encodeURIComponent(snsTitle);
					window.open(url, "tweetPop", "width=486, height=286,scrollbars=yes");
					break;
				case 'band':
					var url = "http://www.band.us/plugin/share?body=" + encodeURIComponent(snsTitle) + "&route=" + encodeURIComponent(thisUrl);
					window.open(url, "shareBand", "width=400, height=500, resizable=yes");
					break;
				case 'addurl':
					var url = '';
					var textarea = document.createElement("textarea");
					document.body.appendChild(textarea);
					url = window.document.location.href;
					textarea.value = url;
					textarea.select();
					document.execCommand("copy");
					document.body.removeChild(textarea);
					alert("URL이 복사되었습니다");
					break;
			}
		}


		function modal(id) {
			var zIndex = 9999;
			var modal = document.getElementById(id);

			// 모달 div 뒤에 희끄무레한 레이어
			var bg = document.createElement('div');
			bg.setStyle({
				position: 'fixed',
				zIndex: zIndex,
				left: '0px',
				top: '0px',
				width: '100%',
				height: '100%',
				overflow: 'auto',
				// 레이어 색갈은 여기서 바꾸면 됨
				backgroundColor: 'rgba(0,0,0,0.4)'
			});
			document.body.append(bg);

			// 닫기 버튼 처리, 시꺼먼 레이어와 모달 div 지우기
			modal.querySelector('.modal_close_btn').addEventListener('click', function () {
				bg.remove();
				modal.style.display = 'none';
			});

			modal.setStyle({
				position: 'fixed',
				display: 'block',
				boxShadow: '0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)',

				// 시꺼먼 레이어 보다 한칸 위에 보이기
				zIndex: zIndex + 1,

				// div center 정렬
				top: '50%',
				left: '50%',
				transform: 'translate(-50%, -50%)',
				msTransform: 'translate(-50%, -50%)',
				webkitTransform: 'translate(-50%, -50%)'
			});
		}

		// Element 에 style 한번에 오브젝트로 설정하는 함수 추가
		Element.prototype.setStyle = function (styles) {
			for (var k in styles) this.style[k] = styles[k];
			return this;
		};

		document.getElementById('popup_open_btn').addEventListener('click', function () {
			// 모달창 띄우기
			modal('my_modal');
		});


	</script>
	<script src="https://kit.fontawesome.com/4a6a853753.js" crossorigin="anonymous"></script>

</body>

</html>