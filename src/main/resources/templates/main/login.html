<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<html class="no-js" lang="zxx">

<head>
   <meta charset="utf-8" />
   <meta http-equiv="x-ua-compatible" content="ie=edge" />
   <title>Login - NPLIT</title>
   <meta name="description" content="" />
   <meta name="viewport" content="width=device-width, initial-scale=1" />
   <link rel="shortcut icon" type="image/x-icon" href="/assets/images/logo/favicon.png" />
   <!-- Place favicon.ico in the root directory -->

   <!-- Web Font -->
   <link
      href="https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet">
   <link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel="stylesheet">

   <!-- ========================= CSS here ========================= -->
   <link rel="stylesheet" href="/assets/css/bootstrap.min.css" />
   <link rel="stylesheet" href="/assets/css/LineIcons.2.0.css" />
   <link rel="stylesheet" href="/assets/css/animate.css" />
   <link rel="stylesheet" href="/assets/css/tiny-slider.css" />
   <link rel="stylesheet" href="/assets/css/glightbox.min.css" />
   <link rel="stylesheet" href="/assets/css/main.css" />


   <!--구글 로그인-->
   <script src="https://apis.google.com/js/platform.js?onload=init" async defer></script>
   <script src="http://code.jquery.com/jquery-latest.js"></script>

</head>

<body>
   <!--[if lte IE 9]>
      <p class="browserupgrade">
        You are using an <strong>outdated</strong> browser. Please
        <a href="https://browsehappy.com/">upgrade your browser</a> to improve
        your experience and security.
      </p>
    <![endif]-->

   <!-- Preloader -->
   <div class="preloader">
      <div class="preloader-inner">
         <div class="preloader-icon">
            <span></span>
            <span></span>
         </div>
      </div>
   </div>
   <!-- /End Preloader -->

  <!-- Start Header Area -->
    <header class="header navbar-area">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-12">
                    <div class="nav-inner">
                        <nav class="navbar navbar-expand-lg">
                        	<a class="navbar-brand" th:href="@{/index}">
                                <img src="/assets/images/logo/header/nplitlogo.svg" alt="Logo">
                            </a>
                            <button class="navbar-toggler mobile-menu-btn" type="button" data-bs-toggle="collapse"
                                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                                aria-expanded="false" aria-label="Toggle navigation">
                                <span class="toggler-icon"> </span>
                                <span class="toggler-icon"> </span>
                                <span class="toggler-icon"> </span>
                            </button>
                            <div class="collapse navbar-collapse sub-menu-bar" id="navbarSupportedContent">
                                <ul id="nav" class="navbar-nav ms-auto">
                                    <li class="nav-item">
                                        <a class="active dd-menu collapsed" th:href="@{/index}"
                                            aria-label="Toggle navigation">Home</a>

                                    </li>
                                    <li class="nav-item">
                                        <a th:href="@{/registerlist}" aria-label="Toggle navigation">카테고리</a>
                                        <ul class="sub-menu mega-menu collapse" id="submenu-1-4">
                                            <!-- <li class="mega-menu-title">Dashboard</li> -->
                                            <li class="nav-item"><a th:href="@{/registerlist?category=패션/잡화}">패션/잡화</a></li>
                                            <li class="nav-item"><a th:href="@{/registerlist?category=가전/디지털}">가전/디지털</a></li>
                                            <li class="nav-item"><a th:href="@{/registerlist?category=라이프}">라이프</a>
                                            <li class="nav-item"><a th:href="@{/registerlist?category=배달음식}">배달음식</a></li>
                                            <li class="nav-item"><a th:href="@{/registerlist?category=홈쉐어링}">홈쉐어링</a></li></li>
                                            <li class="nav-item"><a th:href="@{/registerlist?category=식품}">식품</a></li>
                                            <li class="nav-item"><a th:href="@{/registerlist?category=구독서비스}">구독서비스</a></li>
                                            <li class="nav-item"><a th:href="@{/registerlist?category=기타}">기타</a></li>
                                        </ul>
                                    </li>
                                    
                                    <!--예진 로그인 안했을 경우 내 근처 못들어가게-->
                                    <li class="nav-item">
                                        <a class="dd-menu collapsed"  th:if="${#strings.isEmpty(session.login)}" onclick="alert('로그인이 필요한 서비스 입니다.')" th:href="@{/login}" aria-label="Toggle navigation">내 근처</a>
                                        <a class="dd-menu collapsed"  th:if="${not #strings.isEmpty(session.login)}"  th:href="@{/near_me}" aria-label="Toggle navigation">내 근처</a>
                                    </li>
                                    
                                    <!--예진 로그인 안했을경우 마이페이지 못들어가게-->
			                        <li class="nav-item" th:if="${#strings.isEmpty(session.login)}" th:href="@{/login}"
			                           onclick="alert('로그인이 필요한 서비스 입니다.')">
			                           <a class="dd-menu collapsed" th:href="@{/login}" aria-label="Toggle navigation">마이
			                              페이지</a>
			                           <ul class="sub-menu collapse" id="submenu-1-5">
			                              <li class="nav-item"><a th:href="@{/login}">내 프로필 보기</a>
			                              </li>
			                              <li class="nav-item"><a th:href="@{/login}">개인정보 수정</a></li>
			                              <li class="nav-item"><a th:href="@{/login}">내가 등록한 쉐어링</a></li>
			                              <li class="nav-item"><a th:href="@{/login}">내가 참여중인 쉐어링</a></li>
			                              <li class="nav-item"><a th:href="@{/login}">내가 찜한 쉐어링</a></li>
			                              <li class="nav-item"><a th:href="@{/myquestion_list}">1:1 문의 내역</a></li>
			                           </ul>
			                        </li>
			
			                        <li class="nav-item" th:if="${not #strings.isEmpty(session.login)}">
			                           <!--예진 로그인 했을경우-->
			                           <a class="dd-menu collapsed" th:href="@{/profile_show}"
			                              aria-label="Toggle navigation">마이 페이지</a>
			                           <ul class="sub-menu collapse" id="submenu-1-5">
			                              <li class="nav-item"><a th:href="@{/profile_show}">내 프로필 보기</a>
			                              </li>
			                              <li class="nav-item"><a th:href="@{/profile_update}">개인정보 수정</a></li>
			                              <li class="nav-item"><a th:href="@{/sharing_registered}">내가 등록한 쉐어링</a></li>
			                              <li class="nav-item"><a th:href="@{/sharing_participate}">내가 참여중인 쉐어링</a></li>
			                              <li class="nav-item"><a th:href="@{/sharing_like}">내가 찜한 쉐어링</a></li>
			                              <li class="nav-item"><a th:href="@{/selectMyQuestion}">1:1 문의 내역</a></li>
			                           </ul>
			                        </li>
                                    <!--예진 로그인 안했을 경우 내채팅 못들어가게-->
                                    <li class="nav-item">
                                        <a class="dd-menu collapsed"  th:if="${#strings.isEmpty(session.login)}" onclick="alert('로그인이 필요한 서비스 입니다.')" th:href="@{/selectMyChatting}" aria-label="Toggle navigation">내 채팅</a>
                                        <a class="dd-menu collapsed"  th:if="${not #strings.isEmpty(session.login)}"  th:href="@{/selectMyChatting}" aria-label="Toggle navigation">내 채팅</a>
                                    </li>
                                    
                                    <li style="position: relative; top: 2.2rem;">
                           <span class="notranslate">
                              <div id="google_translate_element" style="display:none;"></div>
                              <!-- "새 번역 링크 UI" -->
                             
							<ul class="translation-links" style="list-style:none;">
                                 <li style="float:left; margin-right:0.5rem;"><i class="fas fa-circle" style="color:#cfb0cf; font-size:0.5rem;"></i></li>
                                 <li style="float:left"><a href="javascript:void(0)" class="english"
                                       data-lang="en">En</a></li>
                                 <li style="float:left">&nbsp &#124; &nbsp</li>
                                 <li style="float:left"><a href="javascript:void(0)" class="korean"
                                       data-lang="ko">Ko</a></li>
                                 <li style="float:left; margin-left:0.5rem;"><i class="fas fa-circle" style="color:#cfb0cf; font-size:0.5rem;"></i></li>
                              </ul>

                              <script
                                 src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
                              <script type="text/javascript">
                                 /* 구글 번역 초기화 */
                                 function googleTranslateElementInit() {new google.translate.TranslateElement({pageLanguage: 'ko', autoDisplay: true}, 'google_translate_element');}
                              </script>
                              <script type="text/javascript">
                                 /* 새 UI 선택 클릭 이벤트가 발생하면
                                    감춤 처리한 구글 번역 콤보리스트에
                                    선택한 언어를 적용해 변경 이벤트를 발생시키는 코드  */
                                 document.querySelector('.translation-links').addEventListener('click', function (event) {
                                    let el = event.target;
                                    if (el != null) {
                                       while (el.nodeName == 'FONT') {el = el.parentElement;}//data-lang 속성이 있는 태그 찾기
                                       const tolang = el.dataset.lang; // 변경할 언어 코드 얻기
                                       const gtcombo = document.querySelector('.goog-te-combo');
                                       if (gtcombo == null) {
                                          alert("Error: Could not find Google translate Combolist.");
                                          return false;
                                       }
                                       gtcombo.value = tolang; // 변경할 언어 적용
                                       gtcombo.dispatchEvent(new Event('change')); // 변경 이벤트 트리거
                                    }
                                    return false;
                                 });
                              </script>
                           </span>
                        </li>
                                    
                                </ul>
                            </div> <!-- navbar collapse -->
                            
                           <div class="login-button">
		                        <ul>
		                           <li>
		                              <a th:if="${not #strings.isEmpty(session.login)}">
		                              	<a th:href="@{/profile_show}" class="see-all"><span th:text="${session.login.name}"> </span>님 환영합니다.</a>
		                              </a>
		                              <a th:if="${#strings.isEmpty(session.login)}" th:href="@{/login}">
		                              	<i class="lni lni-enter"> </i>로그인
		                              </a>
		                           </li>
		
		                           <li>
		                              <a th:if="${not #strings.isEmpty(session.login)}" th:href="@{/logout}">
		                              	<i class="lni lni-enter"> </i> 로그아웃 
		                              </a>
		                              <a th:if="${#strings.isEmpty(session.login)}" th:href="@{/join}">
		                              	<i class="lni lni-user"> </i> 가입하기
		                              </a>
		                            </li>
		                        </ul>
		                     </div>

                            <div class="button header-button">
                            <!--로그인 안되어있을경우 쉐어링 등록 불가-->
                                <a   th:if="${#strings.isEmpty(session.login)}" onclick="alert('로그인이 필요한 서비스 입니다.')" th:href="@{/login}" class="btn">쉐어링 등록하기</a>
                                 <a th:if="${not #strings.isEmpty(session.login)}" th:href="@{/register_view}" class="btn">쉐어링 등록하기</a>
                            </div>
                        </nav> <!-- navbar -->
                    </div>
                </div>
            </div> <!-- row -->
        </div> <!-- container -->
    </header>
    <!-- End Header Area -->

   <!-- Start Breadcrumbs -->
   <div class="breadcrumbs">
      <div class="container">
         <div class="row align-items-center">
            <div class="col-lg-6 col-md-6 col-12">
               <div class="breadcrumbs-content">
                  <h1 class="page-title">LOGIN</h1>
               </div>
            </div>
            <div class="col-lg-6 col-md-6 col-12">
               <ul class="breadcrumb-nav">
                  <li><a th:href="@{/index}">Home</a></li>
                  <li>LOGIN</li>
               </ul>
            </div>
         </div>
      </div>
   </div>
   <!-- End Breadcrumbs -->

   
      <!-- 수정 (예진 ) 로그인 부분------->
   <!-- start login section -->
   <section class="login section">
      <div class="container">
         <div class="row">
            <div class="col-lg-6 offset-lg-3 col-md-8 offset-md-2 col-12">
               <div class="form-head">
                  <h4 class="title">LOGIN</h4>
                  
                  <form action="/loginProcess" method="post" id="loginform">
                     <div class="form-group">
                        <label>아이디</label>
                        <input name="memberId" id="memberId"type="text" required>
                     </div>
                     
 					<div class="form-group">
                        <div class="eyes">
                           <label for="password-box">비밀번호</label>
                           <input name="password" type="password" id="password" required>
                           <i class="fas fa-eye eyesicon"> </i>
                        </div>
                     </div>
                     <div class="check-and-pass">
                        <div class="row align-items-center">
                           <div class="col-lg-6 col-md-6 col-12">
                              <div class="form-check">
                                 <input type="checkbox" class="form-check-input width-auto"
                                    name="isUseCookie" value="Y" id="exampleCheck1">
                                 <!-- 수정 (예진) --------------------sytle : max content 추가-->
                                 <label class="form-check-label"
                                    style="inline-size:max-content">자동로그인하기</label>
                              </div>
                           </div>
                           <div class="col-lg-6 col-md-6 col-12">

                           </div>
                        </div>
                     </div>
                     <div class="button">
                        <button class="btn" type="button" style="background-color: #926a9d;" onclick="loginChk();" >로그인</button>
                   
                   <!--id="loginChk"onclick="loginChk()"-->
                     </div>
                     
                     
                     
                     <div class="alt-option">
                        <span>Or</span>
                     </div>
                     <div class="socila-login">
                        <ul>
                           <!--<li> <a href="javascript:kakaoLogin();"
                                 style="padding:0px; background-color: rgb(254,229,0);"><img
                                    src="assets\images\logo\kakao_login.png" alt="카카오계정 로그인" /></a>
                           </li>-->

                           <!--구글 로그인-->

                           <li> <a href="javascript:void(0)" id="google_login" class="google" onclick="init();"
                                 method="POST"
                                 style="background-color: #d76040; color: white; padding: 11px;">Google
                                 로그인</a>
                           </li>

                           <!-- 
                                    <li><a href="javascript:void(0)" class="google"><i class="lni lni-google"></i>Login With Google
                                            Plus</a>
                                    </li> -->

                        </ul>
                     </div>
                 <p class="outer-link">계정이 없으신가요? <a th:href="@{/join}">회원가입</a>
                     </p>

                       <p class="outer-link">비밀번호를 잊으셨나요? <a th:href="@{/success/findpw}">비밀번호 찾기</a>
                     </p>
                  </form>
               </div>
            </div>
         </div>
      </div>
   </section>
   <!-- end login section -->
   <!--수정 끝-->

   <!-- Start Footer Area -->
   <footer class="footer">
      <div class="container">
         <div class="row">
            <div class="col-md-4">
               <!-- Single Widget -->
               <div class="single-footer mobile-app">
                  <a><img src="assets/images/footer/footer_nplitlogo.svg" alt="Logo" ;
                        style="width:300px; height:300px"></a>
               </div>
               <!-- End Single Widget -->
            </div>
            <div class="col-md-4" style="display:inline;">
               <div class="single-footer f-contact">
                  <h3>Contact</h3>
                  <ul>
                     <li>서울 강남구 강남대로94길 20, <br> 삼오빌딩(5층 ~ 9층)</li>
                     <li>문의 : 02-3486-9600 | 팩스 : 02.6007.1298 <br> 사업자등록번호 : 214-85-24928</li>
                     <li>(주)비트컴퓨터 강남본원 대표이사 : 허원준</li>
                  </ul>
               </div>
            </div>



            <div class="col-md-4">
               <!-- Single Widget -->
               <div class="footer-bottom">
                  <div class="container">
                     <div class="inner">
                        <!-- <div class="row"> -->
                        <!-- <div class="col-6"> -->
                        <div class="content">
                           <div class="content-top">
                              <p>통신판매업 신고번호 : 제 서초-00098호 <br> 개인정보보호관리책임자 : 박진형</p>
                           </div>
                           <p>이용약관 | 개인정보취급방침 | 위치기반서비스 이용약관</p>
                           <ul class="footer-social">
                              <li><a href="javascript:void(0)"><i class="lni lni-facebook-filled"></i></a>
                              </li>
                              <li><a href="javascript:void(0)"><i class="lni lni-twitter-original"></i></a>
                              </li>
                              <li><a href="javascript:void(0)"><i class="lni lni-youtube"></i></a>
                              </li>
                              <li><a href="javascript:void(0)"><i class="lni lni-linkedin-original"></i></a>
                              </li>
                           </ul>
                           <!-- <i class="fas fa-link"></i> -->

                        </div>
                        <!-- </div> -->
                        <!-- </div> -->
                     </div>
                  </div>

                  <!-- End Single Widget -->
               </div>
            </div>
         </div>
      </div>
   </footer>
   <!--/ End Footer Area -->

   <!-- ========================= scroll-top ========================= -->
   <a href="#" class="scroll-top btn-hover">
      <i class="lni lni-chevron-up"></i>
   </a>

   <!-- ========================= JS here ========================= -->
   <script src="assets/js/bootstrap.min.js"></script>
   <script src="assets/js/wow.min.js"></script>
   <script src="assets/js/tiny-slider.js"></script>
   <script src="assets/js/glightbox.min.js"></script>
   <script src="assets/js/main.js"></script>
   <script>
 //=======예진 로그인 아이디 비밀번호 오류 창 띄우기 ===========

      
      function loginChk(){
         
         var memberId=$("#memberId").val();
         var password=$("#password").val() ;
         if (memberId == "") {
            alert("아이디를 입력해주세요.");
           	 return false;
         } if (password == "") {
               alert("비밀번호를 입력해주세요.");
               return false;
         }
         
         $.ajax({
            url: "/loginChk",
            type: "post",
            dataType: "json",
            data: $("#loginform").serialize(),
            success: function (data) {
               if (data == 0) {
                  alert("아이디와 비밀번호를 확인해주세요..");
                  return false;
               }
                  //로그인 성공 시
               $("#loginform").submit();
            }
         })
      }





      //============구글 로그인========================
      // google signin API
      var googleUser = {};
      function init() {
         gapi.load('auth2', function () {
            console.log("init()시작");
            auth2 = gapi.auth2.init({
               client_id: '76040864707-9a0rhnokpsq8su7gj3hku73262j7qh5e.apps.googleusercontent.com',
               cookiepolicy: 'single_host_origin',
            });
            attachSignin(document.getElementById('google_login'));
         });
      }

      //google signin API2
      function attachSignin(element) {
         auth2.attachClickHandler(element, {},
            function (googleUser) {
               var profile = googleUser.getBasicProfile();

               var id_token = googleUser.getAuthResponse().id_token;
               console.log('ID: ' + profile.getId()); // Do not send to your backend! Use an ID token instead.
               console.log('ID토큰: ' + id_token);
               console.log('Name: ' + profile.getName());
               console.log('Email: ' + profile.getEmail()); // This is null if the 'email' scope is not present.
               $(function () {
                  $.ajax({
                     url: 'loginGoogle',
                     type: 'post',
                     data: {
                        "name": profile.getName(),
                        "memberId": profile.getId(),
                        "password": profile.getId(),
                        "oldPassword": profile.getId(),
                        // "password_chk": profile.getId(),
                        "nickname": profile.getName(),
                        "email": profile.getEmail(),

                     },
                     success: function (data) {
                        alert("구글아이디로 로그인 되었습니다");
                        location.href = "/index";
                     }
                  });
               })
            }, function (error) {
               alert(JSON.stringify(error, undefined, 2));
            });
         console.log("구글API 끝");
      }



   </script>
   
	<!-- 철우 비밀번호 눈 표시 -->
   <script>
      $(document).ready(function () {
         $('.eyes i').on('click', function () {
            $('input').toggleClass('active');
            if ($('input').hasClass('active')) {
               $(this).attr('class', "fas fa-eye")
                  .prev('input').attr('type', "text");
            } else {
               $(this).attr('class', "fas fa-eye-slash")
                  .prev('input').attr('type', 'password');
            }
         });
      });
   </script >
   <script src="https://kit.fontawesome.com/4a6a853753.js" crossorigin="anonymous"></script>

</body>

</html>